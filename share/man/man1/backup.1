.\" Automatically generated by Pandoc 2.6
.\"
.TH "BACKUP" "1" "October 2018" "" ""
.hy
.SH NAME
.PP
backup \[en] Backup directories and volumes
.SH SYNOPSIS
.PP
\f[B]backup\f[R] [\f[I]options\f[R]] \f[C]<\f[R]\f[I]source\f[R]
\&...\f[C]>\f[R] \f[C]<\f[R]\f[I]destination\f[R]\f[C]>\f[R]
.SH DESCRIPTION
.PP
Files are backed up using \f[B]rsync\f[R] from the specified
\f[I]source\f[R] directories to under the \f[I]destination\f[R]
directory.
.PP
Specified \f[I]source\f[R] directory is skipped if it is not readable,
or contains a \f[C].rsync-exclude\f[R] file.
.PP
Some hidden operating system related files are automatically excluded
from the root of the \f[I]source\f[R] directory, including
\f[C].Trashes\f[R], \f[C]lost+found\f[R], temporary files and spotlight
indexes.
.SH OPTIONS
.TP
.B \f[C]-h\f[R], \f[C]--help\f[R]
Print help.
.TP
.B \f[C]-v\f[R], \f[C]--version\f[R]
Print version number.
.TP
.B \f[C]-D\f[R], \f[C]--dry-run\f[R]
Dry-run without writing anything.
.TP
.B \f[C]-q\f[R], \f[C]--quiet\f[R]
Silent mode.
.TP
.B \f[C]-R\f[R] \f[C]<\f[R]\f[I]days\f[R]\f[C]>\f[R], \f[C]--rotate\f[R][=]\f[C]<\f[R]\f[I]days\f[R]\f[C]>\f[R]
Snapshots older than in \f[I]days\f[R] are deleted.
If \f[C]0\f[R], disables rotation.
.TP
.B \f[C]-r\f[R], \f[C]--remote\f[R]
Remote mode, drop functionalities that only function locally.
.TP
.B \f[C]-s\f[R], \f[C]--snapshot\f[R]
Create incremental snapshot similarly to macOS Time Machine.
.TP
.B \f[C]-V\f[R], \f[C]--verbose\f[R]
Verbose mode.
.TP
.B \f[I]source\f[R]
One or more directory paths to back up.
If omitted, sources are read from \f[C]STDIN\f[R] instead.
.TP
.B \f[I]destination\f[R]
Path to location where the backups are stored.
If \f[I]source\f[R] and \f[I]destination\f[R] are both omitted, the last
line from \f[C]STDIN\f[R] is used as the \f[I]destination\f[R].
.SH ENVIRONMENT
.TP
.B \f[C]PWD\f[R]
Used to resolve current working directory.
.SH FILES
.PP
Depends on external programs \f[C]bash\f[R], \f[C]cat\f[R],
\f[C]find\f[R], \f[C]mkdir\f[R], \f[C]realpath\f[R] and \f[C]rsync\f[R].
.SH EXAMPLES
.PP
Back-up current user directories from \f[C]/home\f[R] and volumes from
\f[C]/mnt\f[R] to \f[C]/mnt/backups\f[R]:
.IP
.nf
\f[C]
$ backup /home/* /mnt/* /mnt/backups
\f[R]
.fi
.PP
Because non-existing locations are ignored, universal set of paths can
be used and deployed on various host systems:
.IP
.nf
\f[C]
$ backup /home/* /Users/* /mnt/* /media/*/* /Volumes/* /mnt/backups
\f[R]
.fi
.PP
Paths can be piped:
.IP
.nf
\f[C]
$ echo /mnt/source | backup /mnt/backups
\f[R]
.fi
.PP
And read from a file, \f[C]list.txt\f[R], containing list of paths:
.IP
.nf
\f[C]
$ echo /mnt/1 >> list.txt
$ echo /mnt/2 >> list.txt
$ backup /mnt/backups < list.txt
\f[R]
.fi
.SH AUTHORS
Jukka Svahn.
