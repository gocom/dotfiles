.\" Automatically generated by Pandoc 2.3.1
.\"
.TH "BACKUP" "1" "October 2018" "" ""
.hy
.SH NAME
.PP
backup \[en] Backup directories and volumes
.SH SYNOPSIS
.PP
\f[B]backup\f[] [\f[I]options\f[]] \f[C]<\f[]\f[I]source\f[]
\&...\f[C]>\f[] \f[C]<\f[]\f[I]destination\f[]\f[C]>\f[]
.SH DESCRIPTION
.PP
Files are backed up using \f[B]rsync\f[] from the specified
\f[I]source\f[] directories to under the \f[I]destination\f[] directory.
.PP
Specified \f[I]source\f[] directory is skipped if it is not readable, or
contains a \f[C]\&.rsync\-exclude\f[] file.
.PP
Some hidden operating system related files are automatically excluded
from the root of the \f[I]source\f[] directory, including
\f[C]\&.Trashes\f[], \f[C]lost+found\f[], temporary files and spotlight
indexes.
.SH OPTIONS
.TP
.B \f[C]\-h\f[], \f[C]\-\-help\f[]
Print help.
.RS
.RE
.TP
.B \f[C]\-v\f[], \f[C]\-\-version\f[]
Print version number.
.RS
.RE
.TP
.B \f[C]\-D\f[], \f[C]\-\-dry\-run\f[]
Dry\-run without writing anything.
.RS
.RE
.TP
.B \f[C]\-q\f[], \f[C]\-\-quiet\f[]
Silent mode.
.RS
.RE
.TP
.B \f[C]\-R\f[] \f[C]<\f[]\f[I]days\f[]\f[C]>\f[], \f[C]\-\-rotate\f[][=]\f[C]<\f[]\f[I]days\f[]\f[C]>\f[]
Snapshots older than in \f[I]days\f[] are deleted.
If \f[C]0\f[], disables rotation.
.RS
.RE
.TP
.B \f[C]\-r\f[], \f[C]\-\-remote\f[]
Remote mode, drop functionalities that only function locally.
.RS
.RE
.TP
.B \f[C]\-s\f[], \f[C]\-\-snapshot\f[]
Create incremental snapshot similarly to macOS Time Machine.
.RS
.RE
.TP
.B \f[C]\-V\f[], \f[C]\-\-verbose\f[]
Verbose mode.
.RS
.RE
.TP
.B \f[I]source\f[]
One or more directory paths to back up.
If omitted, sources are read from \f[C]STDIN\f[] instead.
.RS
.RE
.TP
.B \f[I]destination\f[]
Path to location where the backups are stored.
If \f[I]source\f[] and \f[I]destination\f[] are both omitted, the last
line from \f[C]STDIN\f[] is used as the \f[I]destination\f[].
.RS
.RE
.SH ENVIRONMENT
.TP
.B \f[C]PWD\f[]
Used to resolve current working directory.
.RS
.RE
.SH FILES
.PP
Depends on external programs \f[C]bash\f[], \f[C]cat\f[], \f[C]find\f[],
\f[C]mkdir\f[], \f[C]realpath\f[] and \f[C]rsync\f[].
.SH EXAMPLES
.PP
Back\-up current user directories from \f[C]/home\f[] and volumes from
\f[C]/mnt\f[] to \f[C]/mnt/backups\f[]:
.IP
.nf
\f[C]
$\ backup\ /home/*\ /mnt/*\ /mnt/backups
\f[]
.fi
.PP
Because non\-existing locations are ignored, universal set of paths can
be used and deployed on various host systems:
.IP
.nf
\f[C]
$\ backup\ /home/*\ /Users/*\ /mnt/*\ /media/*/*\ /Volumes/*\ /mnt/backups
\f[]
.fi
.PP
Paths can be piped:
.IP
.nf
\f[C]
$\ echo\ /mnt/source\ |\ backup\ /mnt/backups
\f[]
.fi
.PP
And read from a file, \f[C]list.txt\f[], containing list of paths:
.IP
.nf
\f[C]
$\ echo\ /mnt/1\ >>\ list.txt
$\ echo\ /mnt/2\ >>\ list.txt
$\ backup\ /mnt/backups\ <\ list.txt
\f[]
.fi
.SH AUTHORS
Jukka Svahn.
